**This is the non-interactive version of the code.**
